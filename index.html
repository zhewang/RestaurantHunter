<!DOCTYPE html>
<html>
<head>
    <title>Yelp Data Chanllenge</title>
     <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
     <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
     <script src="./d3.min.js" charset="utf-8"></script>
     <style>
     #map { 
        height: 400px; 
        width: 600px;
    }
     </style>
</head>
<body>
<div id="map">
<script type="text/javascript">

    var data;

    d3.json("./az100.json", function(error, json) {
        if (error) return console.warn(error);
        data = json;

        console.log(data[0])
          
        // create a map in the "map" div, set the view to a given place and zoom
        lon = data[0][1]
        lat = data[0][2]
        var map = L.map('map').setView([lon, lat], 10);

        // add an OpenStreetMap tile layer
        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // add a marker in the given location
        clickfunction = function onClick(e) {alert(this.getLatLng());}

        for (var i = 0; i < data.length; i ++) {
             L.marker([data[i][1], data[i][2]]).on('click', clickfunction).addTo(map);
        }
       

    });       

    
</script>
</div>
</body>
</html>